<!--
    añadimos aquí el controlador
-->
<div ng-controller="incidencesController">
    <md-content layout-padding>
        <div>
            <form flex-gt-sm="60" style="margin:0 auto;" name="userForm">
                <div layout-gt-sm="row">
                    <md-input-container class="md-block" flex-gt-sm>
                        <label>
                            Nombre
                        </label>
                        <input ng-model="incidence.name"/>
                    </md-input-container>
                    <md-input-container class="md-block" flex-gt-sm>
                        <label>
                            Autor
                        </label>
                        <input ng-model="incidence.author"/>
                    </md-input-container>
                </div>
                <md-input-container class="md-block">
                    <label>
                        Descripción
                    </label>
                    <textarea ng-model="incidence.description" columns="1" md-maxlength="150" rows="5">
                    </textarea>
                </md-input-container>
                <div layout="row">
                    <md-input-container flex="50">
                        <label>
                            Prioridad:
                        </label>
                        <md-select ng-model="incidence.priority"  layout="row" layout-align="start start">
                            <md-option value="0">
                                Crítico
                            </md-option>
                            <md-option value="1">
                                Alto
                            </md-option>
                            <md-option value="2">
                                Medio
                            </md-option>
                            <md-option value="3">
                                Bajo
                            </md-option>
                        </md-select>
                    </md-input-container>
                    <md-input-container flex="50">
                        <label>
                            Estado:
                        </label>
                        <md-select ng-model="incidence.state" ng-change="stateUpdate(incidence.idIncidence)" layout="row" layout-align="start start">
                            <md-option value="0">
                                Abierta
                            </md-option>
                            <md-option value="1">
                                Resolviéndose
                            </md-option>
                            <md-option value="2">
                                Se necesita Feedback
                            </md-option>
                            <md-option value="3">
                                Cerrada
                            </md-option>
                            <md-option value="4">
                                Resuelta
                            </md-option>
                            <md-option value="5">
                                Duplicada
                            </md-option>
                            <md-option value="6">
                                No se resuelve
                            </md-option>
                        </md-select>
                    </md-input-container>
                </div>
                <div layout="row" layout-align="end start">
                    <md-button ng-click="saveIncidence()" class="md-raised">
                        Añadir incidencia
                    </md-button>
                </div>
            </form>
        </div>
    </md-content>
</div>
<script src="js/home.js">
</script>
